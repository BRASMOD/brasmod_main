library(tidyverse)
library(data.table)
setwd("C:\\Users\\joao.perez\\Downloads\\brasmod\\brasmod\\Input")
base = read.csv("BRA_2018_a2.txt", sep = "\t")
base <- read.csv("BRA_2018_a2.txt", sep = "\t")
x <- 1
View(base)
base$idhh_sorted <- base$idhh
for(n in 1:length(base$idhh_sorted)) {
tryCatch({
if(base$idhh[[n]] < base$idhh[[n+1]]) {
base$idhh_sorted[[n]] <- x
x <- x + 1
}
else {
base$idhh_sorted[[n]] <- x
}
}, error = function(e) {
base$idhh_sorted[[n]] <- x
})
}
View(base)
base$idhh <- base$idhh_sorted
base <- base %>% select(-c(idhh_sorted))
View(base)
base$idhh <- as.character(base$idhh)
base$idperson_sorted <- paste0(base$idhh, "0")
x <- 1
for (n in 1:length(base$idperson_sorted)) {
tryCatch({
if(base$idperson_sorted[[n]] < base$idperson_sorted[[n+1]]) {
base$idperson_sorted[[n]] <- paste0(base$idperson_sorted[[n]], as.character(x))
x <- x + 1
}
else {
base$idperson_sorted[[n]] <- paste0(base$idperson_sorted[[n]], as.character(x))
x <- 1
}
}, error = function(e) {
base$idperson_sorted[[n]] <- paste0(base$idperson_sorted[[n]], as.character(x))
})
}
View(base)
base$idperson <- base$idperson_sorted
base <- base %>% select(-c(idperson_sorted))
fwrite(base, "pof euromod 3.txt", row.names=FALSE, sep = "\t")
write.table(base, file='pof euromod 3.txt', quote=FALSE, sep='\t', row.names=FALSE)
q()
source("C:/José/USP/Graduação/TCC/Dados POF/R/Leitura dos Microdados - R.R")
